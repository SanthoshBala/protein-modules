<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:tr="http://myfaces.apache.org/trinidad"
                xmlns:trh="http://myfaces.apache.org/trinidad/html"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                xmlns:ebi="http://ebi.ac.uk/faces/components"
                xmlns:ebisf="http://www.ebi.ac.uk/faces/site">

    <tr:document title="PSICQUIC View Admin">

        <trh:head>

            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

            <meta name="description" content="#{psicquicView['webapp.name']}"/>


            <!-- IntAct dynamic application should not be indexed by search engines -->
            <meta name='robots' content='nofollow'/>

            <link rel="stylesheet" href="#{ebisf:absoluteEbiUrl()}/inc/css/contents.css" type="text/css"/>
            <link rel="stylesheet" href="#{ebisf:absoluteEbiUrl()}/inc/css/userstyles.css" type="text/css"/>
            <link rel="stylesheet" href="#{ebisf:absoluteEbiUrl()}/inc/css/sidebars.css" type="text/css"/>

            <trh:script source="#{ebisf:absoluteEbiUrl()}/inc/js/contents.js"/>

            <!--<script type="text/javascript"-->
            <!--src="http://o.aolcdn.com/dojo/1.0.0/dojo/dojo.xd.js"></script>-->

            <trh:script source="/js/intact.js"/>

        </trh:head>
        <trh:body>

            <h:outputLink value="../.."><h:graphicImage value="/images/back_arrow.gif"/><h:outputText value="Back to application"/></h:outputLink>
            <br/>
            <br/>

            <tr:messages/>

            <tr:form>

                <tr:panelHeader text="PSICQUIC View Configuration"/>

                <tr:panelFormLayout>
                    <f:facet name="footer">
                        <tr:panelButtonBar>
                            <tr:commandButton text="Load" actionListener="#{config.loadConfigFromFile}"/>
                            <tr:commandButton text="Save" actionListener="#{config.store}"/>
                        </tr:panelButtonBar>
                    </f:facet>
                    <tr:inputText label="Config File: " value="#{config.configFile}" columns="100" required="true"/>
                    <tr:inputText label="Title: " value="#{config.title}" columns="100"/>
                    <tr:inputText label="Logo URL: " value="#{config.logoUrl}" columns="100"/>
                    <tr:inputText label="Banner background URL: " value="#{config.bannerBackgroundUrl}" columns="100"/>
                    <tr:panelLabelAndMessage label="Registry tags: ">
                        <f:facet name="help">
                            <tr:outputText value="Expression to define the tags to be used"/>
                        </f:facet>
                        <tr:inputText value="#{config.registryTagsAsString}" columns="100" simple="true"/>
                    </tr:panelLabelAndMessage>
                    <tr:panelLabelAndMessage label="MIQL query filter: ">
                        <f:facet name="help">
                            <tr:outputText value="MIQL added to the end of each query"/>
                        </f:facet>
                        <tr:inputText value="#{config.miqlFilterQuery}" columns="100" simple="true"/>
                    </tr:panelLabelAndMessage>
                    <tr:panelLabelAndMessage label="Included services: ">
                        <f:facet name="help">
                            <tr:outputText value="Comma-separated list of the services that will be used by default. Don't use the
                        excluded services if this parameter is set"/>
                        </f:facet>
                        <tr:inputText value="#{config.includedServices}" columns="100" simple="true"/>
                    </tr:panelLabelAndMessage>
                    <tr:panelLabelAndMessage label="Excluded services: ">
                        <f:facet name="help">
                            <tr:outputText value="Comma-separated list of the services that won't be used by default. Don't use the
                        included services if this parameter is set"/>
                        </f:facet>
                        <tr:inputText value="#{config.excludedServices}" columns="100" simple="true"/>
                    </tr:panelLabelAndMessage>
                </tr:panelFormLayout>

                <hr/>

                <tr:commandButton text="Refresh Application" actionListener="#{searchBean.refreshApp}"/>

            </tr:form>
        </trh:body>

    </tr:document>

</ui:composition>
