<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:tr="http://myfaces.apache.org/trinidad">

<tr:document>

<tr:panelHeader text="Interaction clustering">

    This application allows you to query PSICQUIC services and browse their respective interactions. However these
    dataset can feature multiple evidence of two molecule interacting together, not only within one service but also
    across several. The same, redundant information may have been separately curated by multiple resources.
    The clustering feature will allow you to bring under a single binary interaction all evidences for that given pair
    of molecules. All details such as experimental methods, publications, source database, scoring will be aggregated
    in the resulting interaction.

    <tr:panelHeader text="How do we cluster your query">

        The method we are using is clustering together molecular interactions that are found to be between the
        same pair of molecules. That is, whenever the molecules are described using the same identifier from the
        following ordered list of public databases:
        <ul>
            <li><a href="http://www.uniprot.org" target="_blank">UniProtKB</a></li>
            <li><a href="http://irefindex.uio.no/wiki/iRefIndex" target="_blank">IRefIndex</a></li>
            <li><a href="http://www.ddbj.nig.ac.jp" target="_blank">DDBJ</a>/
                <a href="http://www.ebi.ac.uk/embl" target="_blank">EMBL</a>/
                <a href="http://www.ncbi.nlm.nih.gov/genbank" target="_blank">GenBank</a>
            </li>
            <li><a href="http://www.ncbi.nlm.nih.gov/refseq" target="_blank">RefSeq</a></li>
            <li><a href="http://www.ebi.ac.uk/chebi" target="_blank">ChEBI</a></li>
        </ul>
        The order of the molecules, whether A-B or B-A does not matter and results in the same final data.

    </tr:panelHeader>

    <tr:panelHeader text="How to build a clustered query">

        First of all you need to build your query via the usual means, that is, typing a MIQL query in the search box
        and press the search button). On the right hand side of the services list should appear a button labelled
        'Cluster this query'. So far the button will only be available if the sum of all interactions available for
        your query is no higher than 5000 interactions (we are working on relaxing these constraints in the future).
        Once you have pressed the button, a job will be created to process your request. The list of your jobs should
        appear above the button. The displayed status of each job can be as follows:
        <ul>
            <li><b>QUEUED</b>: your job has been submitted but no work has yet been carried out,</li>
            <li><b>RUNNING</b>: your clustered query is being built,</li>
            <li><b>COMPLETED</b>: your clustered query is now ready to be used,</li>
            <li><b>FAILED</b>: the processing of you request has failed.</li>
        </ul>
        At any time, you can remove your job from the list by clicking the 'remove' link.

    </tr:panelHeader>

    <tr:panelHeader text="How to broswe your clustered query">

        Once your job's status is set to COMPLETED, you can click on the 'view' link to open the set of interactions.
        The display is similar to the one you use to view the data of a given PSICQUIC service. Please note that the
        search functionality is disabled while browsing a clustered dataset. Should you want to return to the complete
        list of PSICQUIC services, you only need press the link 'back to all services' positioned at the top left of
        the interaction table.

    </tr:panelHeader>

    <!-- TODO add a section on how to create a URL to link to a given dataset using a jobId -->

</tr:panelHeader>

</tr:document>

</ui:composition>
